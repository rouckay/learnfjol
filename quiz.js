const quizPage={parents:function(e,t,n,o){for(var i=[],d=e&&e.parentElement;d&&(i.push(d),!d.matches(t));d=d.parentElement);return 1==n?void 0===o?i[i.length-1]:!(void 0===i[i.length-1]||!i[i.length-1].matches(t)):i},randomId:function(e){for(var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*o)));return t.join("")},createConfetti:function(e,t){let n=document.createElement("div");n.id="confetti";let o=quizPage.randomId(36);n.setAttribute("data-id",o);let i="",d=["#2162ff","#9e21ff","#21a9ff","#a9ff21","#ff2184"];for(var a=0;a<20;++a){let e=Math.floor(Math.random()*d.length);i+=`<div class="confetti-item" style="background-color: ${d[e]};" data-angle="${Math.random()}" data-speed="${Math.random()}"></div>`,i+=`<div class="confetti-item reverse" style="background-color: ${d[e]};" data-angle="${Math.random()}" data-speed="${Math.random()}"></div>`}n.style.position="fixed",n.style.top=`${e}px`,n.style.left=`${t}px`,n.innerHTML=i,document.body.appendChild(n);let l=0,u=1,r=0,s=setInterval((function(){document.querySelectorAll(`[data-id="${o}"] .confetti-item`).forEach((function(e){let t=1;e.classList.contains("reverse")&&(t=-1),e.style.opacity=u;let n=parseFloat(e.getAttribute("data-angle")),o=parseFloat(e.getAttribute("data-speed")),i=n*r,d=(1100*n+400)/1e3,a=(4e4*n+65e3)/1e3,s=(parseFloat(e.getAttribute("data-angle")),a*l*Math.cos(d)+50*o*l),c=a*l*Math.sin(d)-25*Math.pow(l,2)+50*o*l;e.style.transform=`translateX(${s*t}px) translateY(${-1*c*1}px) rotateY(${i}deg) scale(1)`})),l+=.1,r+=3,u-=.02,l>=6&&(l=.1,null!==document.querySelector(`[data-id="${o}"]`)&&document.querySelector(`[data-id="${o}"]`).remove(),clearInterval(s))}),33.33)},quizEvents:e=>{null!==document.getElementById("submit-question")&&document.getElementById("submit-question").addEventListener("click",(async function(t){document.getElementById("copyright").style.display="none";let n=document.getElementById("container").getAttribute("data-question"),o=window.location.pathname.split("/")[2],i={questionId:parseFloat(n),canonicalName:o,quizQuestion:!0};console.log(i),e.send(JSON.stringify(i))}))},runQuiz:function(e,t){if(1==t.quizQuestion&&null==document.querySelector("#container.moving")){document.getElementById("quiz-question-holder").innerHTML=`<div id="question">${t.question}</div>`,document.getElementById("container").classList.add("moving"),document.getElementById("container").setAttribute("data-question",t.quizQuestionNumber+1),document.getElementById("current-number").textContent=t.quizQuestionNumber+1;let n=parseFloat(document.getElementById("current-number").textContent)/parseFloat(document.getElementById("total-number").textContent);document.getElementById("progress-bar-percentage").style.width=100*n+"%",setTimeout((function(){document.getElementById("container").classList.remove("moving"),null!==document.getElementById("associated-article")&&document.getElementById("associated-article").classList.add("hidden"),document.getElementById("initial-page").innerHTML=document.getElementById("quiz-question-holder").innerHTML,document.getElementById("quiz-question-holder").innerHTML="",document.querySelectorAll(".option").forEach((function(e){e.addEventListener("click",(function(e){document.getElementById("question").classList.contains("finished")||(document.querySelectorAll(".option").forEach((function(e){e.classList.remove("current")})),this.classList.add("current"))}))})),null!==document.getElementById("submit-individual-question")&&document.getElementById("submit-individual-question").addEventListener("click",(function(){if(null!==document.getElementById("next-question"))return!1;let t=null;null!==document.querySelector(".option.current")&&(t=parseFloat(document.querySelector(".option.current").getAttribute("data-id")));let n=window.location.pathname.split("/")[2];e.send(JSON.stringify({answer:t,question:parseFloat(document.getElementById("container").getAttribute("data-question"))-1,getAnswer:!0,canonicalName:n}))}))}),500)}else if(void 0!==t.correctAnswer){if(1==t.correctAnswer){document.getElementById("question").classList.add("correct");let e=document.getElementById("submit-individual-question"),t=e.getBoundingClientRect().left,n=e.getBoundingClientRect().top;quizPage.createConfetti(n+10,t+50)}else document.getElementById("question").classList.add("false"),"number"==typeof t.theAnswer&&document.querySelector(`.option[data-id="${t.theAnswer}"]`).classList.add("this-was-it");document.getElementById("question").classList.add("finished"),null!==document.getElementById("submit-individual-question")&&document.getElementById("submit-individual-question").setAttribute("id","next-question");let n=parseFloat(document.getElementById("container").getAttribute("data-question"));n===parseFloat(document.getElementById("total-number").textContent)?(document.getElementById("next-question").innerHTML="<span>ðŸŽ‰ Complete Quiz</span>",document.getElementById("next-question").classList.add("complete-quiz")):document.getElementById("next-question").innerHTML="<span>Next Question</span>",document.getElementById("next-question").addEventListener("click",(function(t){let o=window.location.pathname.split("/")[2],i={questionId:n,canonicalName:o,quizQuestion:!0};e.send(JSON.stringify(i))}))}else if(void 0!==t.quizEnded&&"number"==typeof t.quizFinalScore&&"string"==typeof t.finishedQuizHTML){document.getElementById("quiz-question-holder").innerHTML=`<div id="question">${t.finishedQuizHTML}</div>`,document.getElementById("container").classList.add("moving","move-bar"),setTimeout((function(){document.getElementById("container").classList.remove("moving"),document.getElementById("progress-bar-holder").remove(),document.getElementById("container").classList.add("moved"),document.getElementById("initial-page").innerHTML=document.getElementById("quiz-question-holder").innerHTML,document.getElementById("quiz-question-holder").innerHTML=""}),500);let e=0;document.querySelectorAll('[data-medal="ðŸ˜±"]').length>0?e=0:document.querySelectorAll('[data-medal="ðŸ¥‰"]').length>0?e=1:document.querySelectorAll('[data-medal="ðŸ¥ˆ"]').length>0?e=3:document.querySelectorAll('[data-medal="ðŸŽ–"]').length>0&&(e=7);let n=0,o=[];for(;n<e;)o.push({x:Math.abs(Math.floor(Math.random()*window.innerWidth)-200),y:Math.abs(Math.floor(Math.random()*window.innerHeight)-200)}),++n;o.forEach((function(e){quizPage.createConfetti(e.y,e.x)})),window.localStorage.setItem(`${window.location.pathname}`,t.quizFinalScore)}}};